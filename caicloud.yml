integration:
  image: busybox:latest
  commands:
    - cd /
    - echo "integration"

pre_build:
  dockerfile_path: .
  image: localhost:5000/admin/golang:latest
  environment:
    - STEP_NAME=prebuild
  commands:
    - echo $STEP_NAME
    - cd /go/src
    - git clone https://github.com/superxi911/TestCase.git
    - cd /go/src/TestCase
    - go build -race .
    - cp /go/src/TestCase/TestCase /root
  outputs:
    - /go

postbuild:
  image: localhost:5000/admin/golang:latest
  commands:
    - echo "postbuild"
